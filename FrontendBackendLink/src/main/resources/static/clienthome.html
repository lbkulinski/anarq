<!DOCTYPE HTML>
<html>
<head>
    <title>AnarQ - Connected to Host!</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	
	<link href="./style.css" type="text/css" rel="stylesheet"/>
	<link rel="icon" href="./AnarQIcon.png"/>
	
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.11/vue.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.min.js"></script>
	
</head>
<body>
	
	<div id="app">
	
		<h1></h1>
		
		<a href="/clienthome">Refresh</a>
		
		<!-- Left Column -->
		
		<div class="column">
			<div class="component">
				<h1>Welcome!</h1>	
				<p>Successfully connected to {{ host }}</p>
				<p>With the username {{ username }}</p>
				<a href="/">Leave Lobby</a>
			</div>
		</div>
		
		<!-- Right Column -->
		
		<div class="column">
			<div class="component">
				<h2>Current Playlist</h2>
				<div class="songRequest">
					<img src="./unknown.png" width="128px" height="128px" align="left"/>
					<h2> song.songName </h2>
					<h3> song.bandName </h3>
					<h4> song.requesterId </h4>
					<h4> song.id </h4>
					<input type="button" value="Like" /> <input type="button" value="Dislike" />
				</div>
				<div class="songRequest">
					<img src="./unknown.png" width="128px" height="128px" align="left"/>
					<h2> song.songName </h2>
					<h3> song.bandName </h3>
					<h4> song.requesterId </h4>
					<h4> song.id </h4>
					<input type="button" value="Like" /> <input type="button" value="Dislike" />
				</div>
				<div class="songRequest">
					<img src="./unknown.png" width="128px" height="128px" align="left"/>
					<h2> song.songName </h2>
					<h3> song.bandName </h3>
					<h4> song.requesterId </h4>
					<h4> song.id </h4>
					<input type="button" value="Like" /> <input type="button" value="Dislike" />
				</div>
				<div class="songRequest">
					<img src="./unknown.png" width="128px" height="128px" align="left"/>
					<h2> song.songName </h2>
					<h3> song.bandName </h3>
					<h4> song.requesterId </h4>
					<h4> song.id </h4>
					<input type="button" value="Like" /> <input type="button" value="Dislike" />
				</div>
				<div class="songRequest">
					<img src="./unknown.png" width="128px" height="128px" align="left"/>
					<h2> song.songName </h2>
					<h3> song.bandName </h3>
					<h4> song.requesterId </h4>
					<h4> song.id </h4>
					<input type="button" value="Like" /> <input type="button" value="Dislike" />
				</div>
			</div>
		</div>
	
	</div>
	
	<script>
		
		
		
		new Vue({
			el: '#app',
			data: {
				host : "defualt-host",
				username : "defualt-username",
				songRequests: []
			},
			
			mounted() {
			
				this.interval = setInterval(() => this.fetchSongs(), 1000);
			
				
			
			},
			
			methods: {
			
				deleteEvent: function(index) {
				  this.songRequests.splice(index, 1);
				},
				
				fetchSongs() {
				
					axios.get('/song-requests')
					.then(resp => this.songRequests = resp.data)
					.catch(err => console.log(err))
				
				}
				
			}
			
		
		});
		
		</script>
	
</body>
</html>